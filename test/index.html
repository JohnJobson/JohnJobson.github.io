<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<title>测试7</title>
	<script src="jquery1.3.8.min.js"></script>
  <script src="https://cdn.bootcss.com/pulltorefreshjs/0.1.17/index.umd.js"></script>
</head>
<body>
<p>测试</p>
<div class="list">
	<ul></ul>
</div>
	<script>
	$(function (){
	
    // $.ajax({
    //   url: "https://johnjobson.github.io/ajax/number.json",
    //   type: "GET",
    //   dataType: "json",
    //   success: function(data) {
    //       $.each(data, function(i, item) {
    //           var str = '<li>姓名:' + item.name + ' 性别：' + item.sex + '</li>';
    //           $('.list ul').append(str);

    //       })
    //   }
    // })
    
    var num = 0;
    function addhtml(){
       $.ajax({
        url: "https://johnjobson.github.io/ajax/number.json",
        type: "GET",
        dataType: "json",
        success: function(data) {
          consloe.log(data);
          alert(num);
            // $.each(data, function(i, item) {
            //     var str = '<li>姓名:' + item.name + ' 性别：' + item.sex + '</li>';
            //     $('.list ul').append(str);
            // })
            // if()
        }
      })
    }

var refreshBox=new PullToRefresh({
  container:"#list",  
  pull:{
      callback:function(){
        setTimeout(function(){             
          n=0     
          addhtml()
          refreshBox.endPullRefresh(true)
        },1000)
      }
  },
  up:{
      callback:function(){
        setTimeout(function(){   
          if(n<5){
            n++
           addhtml()
           refreshBox.endUpLoading(true)    
          }else{    //没有数据
            refreshBox.endUpLoading(false)
          }
        },1000)
      }
  }
})



  })
	</script>
</body>
</html>